---
title: JS相关概念
date: 2017-09-20 17:18:49
tags: 技术博客
---
## CSS和JS在网页中的放置顺序是怎样的？
为了防止白屏与FOUC，CSS应放置于head标签内。
为防止JS阻塞加载，JS应放置于body标签末尾。

## 解释白屏和FOUC
白屏是webkit内核浏览器和某些情况下IE浏览器在将CSS放置于文档内容之后导致的现象，由于浏览器渲染时以CSS渲染HTML文档之后才会绘制图形，所以将CSS后置延后了CSS的加载，导致文档加载完成CSS尚未加载完成，此时文档尚未被绘制，会出现白屏状况。
FOUC现象是Gecko内核浏览器和某些情况下IE浏览器将CSS放置于文档之后导致的现象，由于浏览器先绘制无样式的HTML文档再逐步加载样式，所以每加载一部分文档样式浏览器会将内容进行重绘，导致屏幕闪烁。
两种现象的解决方式都是将CSS放置于文档之前加载。

## async和defer的作用是什么？有什么区别
async是指将脚本定义为异步加载并加载完立即执行。
defer是指将脚本定义为异步加载，并等待文档全部加载完成后执行。
两者都会使脚本异步加载，但执行时间不同。

## 简述网页的渲染机制
1. 构建DOM树(DOM tree)：从上到下解析HTML文档生成DOM节点树（DOM tree），也叫内容树（content tree）
2. 构建CSSOM(CSS Object Model)树：加载解析样式生成CSSOM树
3. 执行JavaScript：加载并执行JavaScript代码（包括内联代码或外联JavaScript文件）
4. 构建渲染树(render tree)：根据DOM树和CSSOM树,生成渲染树(render tree)
5. 布局（layout）：根据渲染树将节点树的每一个节点布局在屏幕上的正确位置
6. 绘制（painting）：遍历渲染树绘制所有节点，为每一个节点适用对应的样式，这一过程是通过UI后端模块完成

*本文章著作权由Zainking与饥人谷所有，转载请著明出处*