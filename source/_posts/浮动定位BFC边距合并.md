---
title: 浮动定位BFC边距合并
date: 2017-09-11 11:59:31
tags: 技术博客
---
## 浮动元素有什么特征？对父容器、其他浮动元素、普通元素、文字分别有什么影响?

### 特征：

浮动元素会脱离正常的文档流，按照其外边距指定的位置相对于它的上一个块级元素（或父元素）显示
浮动元素后面的块级元素的内容会向此浮动元素的外边距靠齐，但是边框和背景却忽略浮动元素而向上一个任意非浮动元素靠齐
浮动元素后面的内联元素会向此浮动元素的外边距靠齐

### float造成的影响：

#### 对其父元素的影响

对于其父元素来说，元素浮动之后，它脱离当前正常的文档流，所以它也无法撑开其父元素，造成父元素的塌陷

#### 对其兄弟元素（非浮动）的影响

如果兄弟元素为块级元素，该元素会忽视浮动元素的而占据它的位置，并且元素会处在浮动元素的下层（并且无法通过z-index属性改变他们的层叠位置），但它的内部文字和其他行内元素都会环绕浮动元素。
如果如果兄弟元素为内联元素，则元素会环绕浮动元素排列。

#### 对其兄弟元素（浮动）的影响

同一个方向的浮动元素：当一个浮动元素在浮动过程中碰到同一个方向的浮动元素时，它会紧跟在它们后面
反方向的浮动元素：互不影响，位于同一条水平线上，当空间不够时会被挤下

#### 对子元素的影响

当一个元素浮动时，在没有清除浮动的情况下，它无法撑开其父元素，但它可以让自己的浮动子元素撑开它自身，并且在没有定义具体宽度情况下，使自身的宽度从100%变为自适应（浮动元素display:block）。其高度和宽度均为浮动元素高度和非浮动元素高度之间的最大值

## 清除浮动指什么? 如何清除浮动? 两种以上方法
	
浮动会导致：
（1）背景不能显示 （2）边框不能撑开 （3）margin 设置值不能正确显示
清除浮动就是消除这些不良影响
清除浮动可以通过设置父级元素overflow:auto;或者display:inline-block;等方法来实现。

## 有几种定位方式，分别是如何实现定位的，参考点是什么，使用场景是什么？

absolute生成绝对定位的元素，相对于 static 定位以外的第一个父元素进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。fixed生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。relative生成相对定位的元素，相对于其正常位置进行定位。因此，"left:20" 会向元素的 LEFT 位置添加 20 像素。static默认值。没有定位，元素出现在正常的流中（忽略 top, bottom, left, right 或者 z-index 声明）。

## z-index 有什么作用? 如何使用?

相当于photoshop中“图层”的概念，上面的图层覆盖下面的图层，此属性的数值越大相当于图层越上。

## position:relative和负margin都可以使元素位置发生偏移?二者有什么区别

position：relative可以使元素发生偏移，但是在文档流中，它仍然占据着原来的位置，所以其他同级元素的位置不会发生变化。
负margin：通过负margin进行偏移的元素，它会放弃偏移前占据的空间，所以其他同级元素的位置发生了变化。

## BFC 是什么？如何生成 BFC？BFC 有什么作用？举例说明

BFC：块级格式化上下文，它是指一个独立的块级渲染区域，只有Block-level BOX参与，该区域拥有一套渲染规则来约束块级盒子的布局，且与区域外部无关。

CSS2.1中规定满足下列CSS声明之一的元素便会生成BFC。
* 根元素
* float的值不为none
* overflow的值不为visible
* display的值为inline-block、table-cell、table-caption
* position的值为absolute或fixed

1. 不和浮动元素重叠 如果一个浮动元素后面跟着一个非浮动的元素，那么就会产生一个覆盖的现象，很多自适应的两栏布局就是这么做的。

2. 清除元素内部浮动 只要把父元素设为BFC就可以清理子元素的浮动了，最常见的用法就是在父元素上设置overflow: hidden样式，对于IE6加上zoom:1就可以了(IE Haslayout)。

3. 嵌套元素Margin边距折叠问题的解决 按照BFC的定义，只有同属于一个BFC时，两个元素才有可能发生垂直Margin的重叠，这个包括相邻元素，嵌套元素，只要他们之间没有阻挡(例如没有边框，非空内容，padding等)就会发生margin重叠。 因此要解决margin重叠问题，只要让它们不在同一个BFC就行了，只要把父元素设为BFC就可以了。这样子元素的margin就不会和父元素的margin发生重叠了。

## 在什么场景下会出现外边距合并？如何合并？如何不让相邻元素外边距合并？给个父子外边距合并的范例

同一BFC下会产生外边距合并；合并存在两种情况，分别是内外嵌套元素的外边距合并和元素的上下外边距合并；
合并规则：
margin都为正值，取较大值。
margin都为是负值，取较小值。
margin有正有负，先取出负margin中较小的，然后和正margin最大值相加。
所有相邻的margin一起参与运算，不能分部分进行。
使两个元素处于不同BFC或者在内外嵌套情况时，在外元素加border或者padding即可。

举例：
{% codeblock lang:html %}

<div style="margin: 20px;">
	<div style="margin: 20px;">222</div>
</div>
<!-- 内外嵌套边距合并的情况 -->

<div style="margin: 20px"></div>
<div style="margin: 20px"></div>
<!-- 上下外边距合并的情况 -->

{% endcodeblock %}

## 作业
[作业代码](https://github.com/Zainking/demos)
 